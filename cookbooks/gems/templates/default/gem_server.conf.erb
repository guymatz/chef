###
# Generated by Chef
###
<VirtualHost *:80>
  ServerAdmin ops@<%= node[:domain] %>
  <% if @virtual_host_name -%>
  ServerName <%= @virtual_host_name %>
  <% end -%>
  <% if @virtual_host_alias -%>
  <% va_list = @virtual_host_alias.kind_of?(Array) ? @virtual_host_alias : [ @virtual_host_alias ] -%>
  ServerAlias <%= va_list.join(" ") %>
  <% end -%>

  DocumentRoot <%= @gem_directory %>
  Alias /gemrepo <%= @gem_directory %>
  <Directory />
          Options FollowSymLinks
          AllowOverride None
  </Directory>
  <Directory <%= @gem_directory %>>
          Options Indexes FollowSymLinks MultiViews
          AllowOverride None
          Order allow,deny
          allow from all
  </Directory>

  ErrorLog <%= node[:apache][:log_dir] %>/gems-error.log

  # Possible values include: debug, info, notice, warn, error, crit,
  # alert, emerg.
  LogLevel warn

  CustomLog <%= node[:apache][:log_dir] %>/gems-access.log combined
  ServerSignature On

</VirtualHost>
